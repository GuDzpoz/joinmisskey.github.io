@import "../lib/myval"
@import "../../../node_modules/bootstrap/scss/functions"
@import "../../../node_modules/bootstrap/scss/variables"

$toppage-scnshts-2: translateX(5vw) translateY(33vh)
@keyframes toppage-scnshts-2
  from
    transform: translateX(5vw) translateY(95vh)
  to
    transform: $toppage-scnshts-2

$toppage-scnshts-2-sm: translateX(3vw) translateY(40vh)
@keyframes toppage-scnshts-2-sm
  from
    transform: translateX(3vw) translateY(105vh)
  to
    transform: $toppage-scnshts-2-sm

$toppage-scnshts-3: translateX(55vw) translateY(45vh)
@keyframes toppage-scnshts-3
  from
    transform: translateX(55vw) translateY(105vh)
  to
    transform: $toppage-scnshts-3

$toppage-scnshts-3-xl: translateX(20vw) translateY(45vh)
@keyframes toppage-scnshts-3-xl
  from
    transform: translateX(20vw) translateY(105vh)
  to
    transform: $toppage-scnshts-3-xl

$toppage-scnshts-3-sm: translateX(6vw) translateY(50vh)
@keyframes toppage-scnshts-3-sm
  from
    transform: translateX(6vw) translateY(115vh)
  to
    transform: $toppage-scnshts-3-sm

#toppage
  > section:not(#top)
    padding-top: 4.5em
    padding-bottom: 4.5em

    @media (min-width: map-get($grid-breakpoints, xl))
      padding-top: 6em
      padding-bottom: 6em

  #top
    position: relative
    height: 80vh
    max-height: 50rem
    overflow: hidden
    background: $misskey-green

    &.show
      background: linear-gradient(rgba($misskey-green, .13), rgba($misskey-green, .05))

    .texts
      position: absolute
      max-width: 67vw
      transform: translateX(6vw) translateY(8vh)
      z-index: 2
      white-space: normal
      word-break: keep-all
      text-shadow: #f7f7f7 2px 0px, #f7f7f7 -2px 0px, #f7f7f7 0px -2px, #f7f7f7 0px 2px, #f7f7f7 2px 2px , #f7f7f7 -2px 2px, #f7f7f7 2px -2px, #f7f7f7 -2px -2px, #f7f7f7 1px 2px, #f7f7f7 -1px 2px, #f7f7f7 1px -2px, #f7f7f7 -1px -2px, #f7f7f7 2px 1px, #f7f7f7 -2px 1px, #f7f7f7 2px -1px, #f7f7f7 -2px -1px

      @media (max-width: map-get($grid-breakpoints, md))
        transform: translateX(6vw) translateY(6vh)

      @media (max-width: map-get($grid-breakpoints, sm))
        max-width: 88vw
        transform: translateX(6vw) translateY(4.5vh)

        > p
          max-width: 70%

      > .slogan
        font-size: calc(1.2rem + 1vw)
        margin-bottom: .2rem
        line-height: 1.2
        letter-spacing: .1em

      > h1
        font-size: calc(3rem + 1vw)
        margin-bottom: .25rem
        margin-left: -0.1rem
        line-height: 1.1

      > p
        font-size: calc(1rem + .2vw)
        word-break: keep-all
        text-shadow: 1px 1px 0 #f7f7f7, 1px -1px 0 #f7f7f7,-1px 1px 0 #f7f7f7,-1px -1px 0 #f7f7f7,0px 1px 0 #f7f7f7, 0px -1px 0 #f7f7f7,-1px 0px 0 #f7f7f7,1px 0px 0 #f7f7f7

    .scnshts
      position: absolute
      z-index: 1
      width: 100%
      height: 100%

      > *
        position: absolute
        color: rgba(0,0,0,0)

        // Home
        &:nth-child(1)
          z-index: 1
          img
            width: 60vw
            transform: $toppage-scnshts-2
            background-color: #ececec
            display: none
            z-index: 1
            &.show
              display: block !important
              animation-name: toppage-scnshts-2

            @media (max-width: map-get($grid-breakpoints, xl))
              width: 80vw

            @media (max-width: map-get($grid-breakpoints, sm))
              width: 120vw
              transform: $toppage-scnshts-2-sm
              &.show
                animation-name: toppage-scnshts-2-sm

        // Mobile
        &:nth-child(2)
          z-index: 3
          img
            width: 20vw
            transform: $toppage-scnshts-3
            background-color: #1a1b20
            display: none
            z-index: 3
            &.show
              display: block !important
              animation-name: toppage-scnshts-3

            @media (max-width: map-get($grid-breakpoints, xl))
              transform: $toppage-scnshts-3-xl
              &.show
                animation-name: toppage-scnshts-3-xl

            @media (max-width: map-get($grid-breakpoints, sm))
              width: 60vw
              transform: $toppage-scnshts-3-sm
              &.show
                animation-name: toppage-scnshts-3-sm

        // Ai
        &:nth-child(3)
          height: 80vh
          max-height: 45rem
          right: -4vw
          bottom: 0
          position: absolute
          z-index: 4
          filter: drop-shadow(0px 0px 1.5px rgba(0,0,0,.25))

          @media (max-width: map-get($grid-breakpoints, md))
            right: -20vw

          @media (max-width: map-get($grid-breakpoints, sm))
            height: 60vh
            bottom: 0

        &:nth-child(4)
          position: absolute
          z-index: 5
          right: .5rem
          bottom: .5rem
          filter: none
          color: #000000
          word-break: keep-all
          white-space: nowrap
          text-shadow: 1px 1px 0 #f7f7f7, 1px -1px 0 #f7f7f7,-1px 1px 0 #f7f7f7,-1px -1px 0 #f7f7f7,0px 1px 0 #f7f7f7, 0px -1px 0 #f7f7f7,-1px 0px 0 #f7f7f7,1px 0px 0 #f7f7f7

  #section_2
    > .container
      > .s2-item
        padding-top: 3em
        padding-bottom: 3em

        @media (min-width: map-get($grid-breakpoints, xl))
          padding-top: 5em
          padding-bottom: 5em

        > .row
          > article
            padding: map-get($spacers, 2)

            > .card
              width: 100%
              height: 100%
              display: grid
              grid-template-rows: 1fr
              overflow: hidden

              > .s2-card-grid
                padding: ($spacer) ($spacer) ($spacer) ($spacer)
                width: 100%
                display: grid
                grid-template-columns: 3.2rem 1fr

                h4
                  font-size: 1.1rem

              > a.s2-card-link
                border-top: $border-width solid $border-color !important
                padding: map-get($spacers, 2)
                text-align: center
                display: block
                transition: background-color .3s

                &:hover
                  text-decoration: none
                  background-color: rgba($primary, .3)

            img
              width: 100%

    h4
      font-size: 16px
      line-height: 1.6em
      font-weight: 700
      margin: 0

      > span
        overflow-wrap: break-word
