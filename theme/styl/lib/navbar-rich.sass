#nav
  @media (min-width: map-get($grid-breakpoints, md))
    box-shadow: rgba(0, 0, 0, .2) 0 0 8px

  nav
    &#mainnav
      #search
        flex: 1 1 0
        padding-left: 3rem

        @media (max-width: map-get($grid-breakpoints, md) - 0.02)
          padding: 6px .5rem

        input, button
          height: 40px

        #searchInput
          margin-left: auto
          flex: 0
          min-width: 9.5rem

          @media (max-width: map-get($grid-breakpoints, md) - 0.02)
            flex: 1 1 auto

          &:focus
            flex: 1 1 auto

      button.navbar-toggler,
      button.hamburger
        @media (min-width: map-get($grid-breakpoints, md))
          border-right: 1px solid $gray-300

      @media (min-width: map-get($grid-breakpoints, md))
        #navtoggle
          text-shadow: 1px 1px 0 #fff, 1px -1px 0 #fff,-1px 1px 0 #fff,-1px -1px 0 #fff

          .nav-item
            height: 48px
            display: flex
            font-size: .8125rem

            a.nav-link
              margin: auto

            &.active
              border-bottom: 3px solid $primary
              border-top: 3px solid transparent

      @media (min-width: map-get($grid-breakpoints, lg))
        #navtoggle
          padding-left: calc((100% - 1300px) / 2)

      @media (max-width: map-get($grid-breakpoints, md) - 0.02)
        #navtoggle
          background-color: #fff
          box-shadow: 0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)

          .nav-item
            a.nav-link
              color: rgba($primary, 0.75)

            &.active
              a.nav-link
                color: $primary

    .dropleft
      margin: 4px

      @media (max-width: map-get($grid-breakpoints, md) - 0.02)
        margin: 0
        position: fixed
        right: 4px
        top: 4px
        z-index: 102
        height: 40px

      button
        height: 40px
    
